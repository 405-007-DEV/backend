package sc.small.chat.global.security.entity;import lombok.AllArgsConstructor;import lombok.Builder;import lombok.Getter;import lombok.NoArgsConstructor;import lombok.Setter;import org.springframework.security.core.context.SecurityContextHolder;import org.springframework.security.core.userdetails.UserDetails;@Getter@Setter@NoArgsConstructor@AllArgsConstructor@Builderpublic class User {    private String oAuthProfileProviderId;    public static User getAnonymousUser() {        return new User(            null        );    }    /**     * 현재 로그인한 유저 정보 리턴     * TODO 아직 Admin 만 고려되어 있는 상태 - 일반 유저 응답도 추가 필요     */    public static User getCurrentUser() {        Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();        if (principal instanceof UserDetails) {            UserDetails userDetails = (UserDetails) principal;            return User.builder()                .oAuthProfileProviderId(userDetails.getUsername())                .build();        } else {            return getAnonymousUser();        }    }}